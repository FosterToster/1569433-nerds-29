const modal_window=document.getElementById("modal-window"),modal_window_close_button=document.getElementById("modal-close"),modal_window_overlay=document.getElementById("modal-overlay"),raise_button=document.getElementById("modal-raise"),modal_form=document.getElementById("modal-form"),user_name=document.getElementById("user-name"),user_email=document.getElementById("user-email"),user_message=document.getElementById("user-message-text"),load_personal=()=>{user_name.value=localStorage.getItem("user_name")||"",user_email.value=localStorage.getItem("user_email")||""},set_input_invalid=(e,l)=>{e.setCustomValidity(l),e.oninput=set_self_valid},save_personal=()=>{localStorage.setItem("user_name",user_name.value),localStorage.setItem("user_email",user_email.value)},disable_body_scroll=()=>{document.body.classList.add("noscroll")},enable_body_scroll=()=>{document.body.classList.remove("noscroll")},show_modal=e=>{e.preventDefault(),modal_form.reset(),document.body.classList.add("noscroll"),user_name.value=localStorage.getItem("user_name")||"",user_email.value=localStorage.getItem("user_email")||"",modal_window.classList.add("modal-visible")},set_self_valid=e=>{e.target.setCustomValidity("")},check_form_valid=e=>{let l=!0;""==user_name.value&&(set_input_invalid(user_name,"Как к Вам можно обращаться?"),l=!1),""==user_email.value&&(set_input_invalid(user_email,"Как с вами связаться?"),l=!1),""==user_message.value&&(set_input_invalid(user_message,"Не скажете нам пару слов?"),l=!1),l?(localStorage.setItem("user_name",user_name.value),localStorage.setItem("user_email",user_email.value)):e.preventDefault()},close_modal=()=>{modal_window.classList.remove("modal-visible"),document.body.classList.remove("noscroll")};modal_form.addEventListener("submit",check_form_valid),raise_button.addEventListener("click",show_modal),modal_window_close_button.addEventListener("click",close_modal),modal_window_overlay.addEventListener("click",close_modal);